
  <!--编辑栏-->
  <view>
    <view class="bg"/>
    <view class="wrap"  wx:if="{{role === '4'}}">
      <view class="input-wrap name">
        <p>手机号<em> (必填)</em></p>
        <input placeholder-style="color: #ccc" bindinput="getmobile" bindconfirm="getmobile" value="{{formData.mobile ? formData.mobile : ''}}"/>
      </view>
      <view class="input-wrap name">
        <p>验证码<em> (必填)</em></p>
        <view>
          <view class="times-picker" style="position:relative">
            <!-- <picker  mode="region" style='width:400rpx' value='{{address}}' bindchange="bindRegionChange"> -->
              <input style="width: 401rpx;" bindinput="getCode" bindconfirm="getCode" value="{{formData.code ? formData.code : ''}}"/>
            <!-- </picker> -->
            <button class="save-btn" style="width: 230rpx;position: absolute;right: 0;top: 0;margin-top: 0;height: 70rpx;line-height: 70rpx;" bindtap="sendFun">{{codeName}}</button>
          </view>
        </view>
      </view>
      <button class="save-btn" bindtap="submit">提交</button>
    </view>
  <view class="wrap"  wx:else>
     <view class="input-wrap name">
      <p>姓名<em> (必填)</em></p>
      <input placeholder-style="color: #ccc" bindblur="getName" bindconfirm="getName" value="{{formData.name ? formData.name : ''}}"/>
    </view>
    <view class="input-wrap name" wx:if="{{role === '3'}}">
      <p>公司名称<em> (必填)</em></p>
      <input placeholder-style="color: #ccc" bindblur="getcompanyName" bindconfirm="getcompanyName" value="{{formData.companyName ? formData.companyName : ''}}"/>
    </view>
    <view class="input-wrap name">
      <p>手机号<em> (必填)</em></p>
      <input placeholder-style="color: #ccc" bindinput="getphoneNum" bindconfirm="getphoneNum" value="{{formData.phoneNum ? formData.phoneNum : ''}}"/>
    </view>
    <view class="input-wrap name">
      <p>验证码<em> (必填)</em></p>
      <view>
        <view class="times-picker" style="position:relative">
          <!-- <picker  mode="region" style='width:400rpx' value='{{address}}' bindchange="bindRegionChange"> -->
            <input style="width: 401rpx;" bindinput="getCode" bindconfirm="getCode" value="{{formData.code ? formData.code : ''}}"/>
          <!-- </picker> -->
           <button class="save-btn" style="width: 230rpx;position: absolute;right: 0;top: 0;margin-top: 0;height: 70rpx;line-height: 70rpx;" bindtap="sendFun">{{codeName}}</button>
        </view>
      </view>
     
    </view>
    
    <view class="input-wrap name">
      <p>区域位置<em> (必填)</em></p>
      <view>
        <view class="times-picker" style="position:relative">
          <picker mode="region" style="width:400rpx" value="{{address}}" bindchange="bindRegionChange">
            <input style="width: 431rpx;" value="{{address}}" disabled/>
          </picker>
           <button class="save-btn" style="width: 200rpx;position: absolute;right: 0;top: 0;margin-top: 0;height: 70rpx;line-height: 70rpx;" bindtap="chooseLocation">选择位置</button>
        </view>
      </view>
     
    </view>

    <view class="input-wrap name" wx:if="{{role === '3'}}">
      <p>等级<em> (必填)</em></p>
      <view>
        <view class="times-picker" style="position:relative">
          <picker range="{{arrayLevel}}" value="{{address}}" bindchange="bindLeverChange">
            <input style="width: 650rpx;" value="{{formData.dealerLevel}}" disabled/>
          </picker>
        </view>
      </view>
     
    </view>
    <view class="input-wrap name" wx:if="{{role === '3'}}">
      <p>备注信息</p>
      <textarea placeholder-style="color: #ccc" bindblur="getRemark" bindconfirm="getRemark" value="{{formData.remark ? formData.remark : ''}}"/>
    </view>
    <view class="input-wrap name" wx:if="{{role === '1'}}">
      <p>详细地址<em>(必填) </em></p>
      <input placeholder-style="color: #ccc" bindblur="getaddress" bindconfirm="getaddress" value="{{formData.address ? formData.address : ''}}"/>
    </view>
    <view class="input-wrap name" wx:if="{{role === '1'}}">
      <p>种植作物<em> (必填)</em></p>
      <!-- <view>
        <view class="times-picker" style='position:relative;color:#fff'>
          <input style='width: 151rpx;' value="{{address}}"/>
           <button class="save-btn" 
           style='width: 200rpx;position: absolute;right: 0;top: 0;margin-top: 0;height: 70rpx;line-height: 70rpx;' bindtap="addFun">新增</button>
        </view>
      </view> -->
     
    </view>
    <!-- <view class="input-wrap name goods" wx:for='{{goods}}' wx:for-index="idx" wx:if="{{role === '1'}}">
      <p>类别</p>
      <input style='width: 80rpx;' bindblur="getGoods" bindconfirm="getGoods"   data-index="{{idx}}" value="{{item.cropsCategory}}"/>
      
      <p>面积</p>
          <input type='digit' style='width:80rpx;' bindblur="getarea" bindconfirm="getarea" data-index="{{idx}}" value="{{item.area}}"/> <p>亩</p>
           <button class="save-btn1" 
           style='width: 160rpx;height: 70rpx;line-height: 70rpx;' bindtap="addFun" wx:if='{{idx === goods.length - 1}}'>新增</button>
          <button class="save-btn1" 
           style='width: 160rpx;height: 70rpx;line-height: 70rpx;background:#23A7A2' bindtap="del(idx)" wx:if='{{idx !== goods.length - 1}}'>删除</button>
     
    </view> -->


    <view class="input-wrap name goods" wx:if="{{role === '1'}}" style="position:relative" wx:for="{{goods}}" wx:for-index="idx" bindtap="getIndex" data-index="{{idx}}">
      <p>类别</p>
      <picker style="width: 120rpx;margin:0 10rpx;" bindchange="getGoods" value="{{index}}" range="{{one}}">
        <view class="picker" wx:if="{{item.cropsCategory1}}">
          {{item.cropsCategory1}}
        </view>
        <view class="picker" wx:else style="color:#999">
          请选择
        </view>
      </picker>
      <!-- <input style='width: 80rpx;' bindblur="getGoods" bindconfirm="getGoods"   data-index="{{idx}}" value="{{item.cropsCategory}}"/> -->
        <!-- <button class="save-btn" 
        style='width: 200rpx;position: absolute;right: 0;top: 0;margin-top: 0;height: 70rpx;line-height: 70rpx;' bindtap="addFun">新增</button> -->
      
      <picker style="width: 120rpx;margin:0 10rpx;" bindchange="getGoods2" value="{{index}}" range="{{item.goodsAry}}">
        <view class="picker" wx:if="{{item.cropsCategory2}}">
          {{item.cropsCategory2}}
        </view>
        <view class="picker" wx:else style="color:#999">
          请选择
        </view>
      </picker>
      <p style="margin-left:5px;">面积</p>
      <input type="digit" style="width:30rpx;" bindblur="getarea" bindconfirm="getarea" data-index="{{idx}}" value="{{item.area}}"/> <p>亩</p>
      <image src="../images/del.svg" bindtap="del" data-index="{{idx}}" wx:if="{{goods.length !== 1}}" style="width: 44rpx;height:44rpx;osition: absolute;;right: 20rpx;top: 0;margin-left: 25rpx"/>    
      <!-- <button class="save-btn1 save-btn" 
        style='width: 106rpx;position: absolute;;right: 20rpx;top: 0;margin-top: 40rpx;height: 70rpx;line-height: 70rpx;' 
      >删除</button> -->
     
    </view>
     <view class="input-wrap name" style="position:relative">
       <button class="save-btn1 save-btn" style="width: 230rpx;position: absolute;right: 20rpx;top: 0;margin-top: 40rpx;height: 70rpx;line-height: 70rpx;" bindtap="addFun">新增</button>
    </view>
    <!-- <view class="input-wrap name">
      <p>作物类别<em class='blue'> (选填)</em></p>
      <input placeholder-style="color: #ccc" bindblur="getName" bindconfirm="getName" value="{{name ? name : ''}}" />
    </view> -->
    <button class="save-btn" bindtap="save">提交</button>
    </view>
  </view>
  <!--保存-->